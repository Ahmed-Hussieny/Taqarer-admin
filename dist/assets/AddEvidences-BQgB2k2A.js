import{u,a as h,r as l,g,j as e,v as f}from"./index-YFUO48zp.js";import{c as j,d as b,F as v,e as N,E as y}from"./index.esm-DTGeCNeu.js";import{p as E}from"./plus2-Cc0MLBo8.js";/* empty css                         */import{D as w,c as o}from"./index-DLVjgMMF.js";const L=()=>{const d=u(),n=h(),[a,i]=l.useState(!1),[c,x]=l.useState(null),m={reportExcel:null},p=j({reportExcel:b().required("مطلوب")});return l.useEffect(()=>{n(g("رفع الادلة"))},[]),e.jsxs("div",{children:[e.jsx(w,{position:"top-center",reverseOrder:!1}),e.jsx(v,{initialValues:m,validationSchema:p,onSubmit:async r=>{i(!0);const s=new FormData;r.reportExcel&&s.append("excel",r.reportExcel);const t=await n(f(s));i(!1),t.payload.success?o.success("تمت الإضافة بنجاح"):o.error(t.payload.message)},children:({setFieldValue:r})=>e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"رفع ملف Excel"}),e.jsx("input",{type:"file",accept:".xlsx,.xls",id:"file-upload",className:"hidden",onChange:s=>{if(s.currentTarget.files&&s.currentTarget.files.length>0){const t=s.currentTarget.files[0];r("reportExcel",t),x(t.name)}}}),e.jsxs("label",{htmlFor:"file-upload",className:"mt-1 flex items-center justify-center w-full bg-[#F7F8F9] p-2 rounded-lg border border-[#999999] cursor-pointer hover:bg-gray-200 transition",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M8 12l4-4m0 0l4 4m-4-4v12"})}),e.jsx("span",{className:"ml-2 text-gray-700",children:"رفع ملف Excel"})]}),e.jsx("p",{className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:e.jsx("a",{href:"/src/assets/samples/مثال رفع ادلة.xlsx",download:"مثال رفع ادلة.xlsx",target:"_blank",rel:"noopener noreferrer",children:"اضغط هنا لتحميل نموذج الادلة"})}),c&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["الملف المحدد: ",c]}),e.jsx(y,{name:"reportExcel",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{className:"flex justify-center md:justify-end gap-2 pb-3 sm:pb-4",children:[e.jsx("button",{onClick:()=>d(-1),type:"button",className:"text-black text-sm flex items-center gap-1 rounded-lg py-3 px-6 hover:bg-green-50 bg-[#EAF7E8] transition-colors",title:"الغاء",disabled:a,children:e.jsx("span",{className:"sm:inline pe-2",children:"الغاء"})}),e.jsxs("button",{type:"submit",className:"text-white text-sm flex items-center gap-1 rounded-lg py-3 px-3 bg-[#3D9635] hover:bg-green-600 transition-colors",title:"اضافة التقرير",disabled:a,children:[a?e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):e.jsx("img",{src:E,alt:"plus2",className:"w-4 h-4"}),e.jsx("span",{className:"sm:inline pe-2",children:a?"جاري التحميل...":"اضافة الادلة"})]})]})]})})]})};export{L as default};
