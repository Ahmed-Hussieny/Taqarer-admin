import{u,a as h,r as n,g,f,j as e,Q as j}from"./index-BKWFdLJF.js";import{c as b,d as v,F as N,e as y,E as w}from"./index.esm-BO_zn8Fc.js";import{p as E}from"./plus2-Cc0MLBo8.js";/* empty css                         */import{D as k,c as o}from"./index-Dy-D4uAd.js";const M=()=>{const m=u(),l=h(),[a,c]=n.useState(!1),[i,x]=n.useState(null),d={reportExcel:null},p=b({reportExcel:v().required("مطلوب")});return n.useEffect(()=>{l(g("رفع الجهات الحكومية")),l(f(4))},[]),e.jsxs("div",{children:[e.jsx(k,{position:"top-center",reverseOrder:!1}),e.jsx(N,{initialValues:d,validationSchema:p,onSubmit:async r=>{c(!0);const s=new FormData;r.reportExcel&&s.append("excel",r.reportExcel);const t=await l(j(s));c(!1),t.payload.success?o.success("تمت الإضافة بنجاح"):o.error(t.payload.message)},children:({setFieldValue:r})=>e.jsxs(y,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"رفع ملف Excel"}),e.jsx("input",{type:"file",accept:".xlsx,.xls",id:"file-upload",className:"hidden",onChange:s=>{if(s.currentTarget.files&&s.currentTarget.files.length>0){const t=s.currentTarget.files[0];r("reportExcel",t),x(t.name)}}}),e.jsxs("label",{htmlFor:"file-upload",className:"mt-1 flex items-center justify-center w-full bg-[#F7F8F9] p-2 rounded-lg border border-[#999999] cursor-pointer hover:bg-gray-200 transition",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M8 12l4-4m0 0l4 4m-4-4v12"})}),e.jsx("span",{className:"ml-2 text-gray-700",children:"رفع ملف Excel"})]}),e.jsx("p",{className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:e.jsx("a",{href:"/src/assets/samples/مثال رفع الجهات الحكومية.xlsx",download:"مثال رفع الجهات الحكومية.xlsx",target:"_blank",rel:"noopener noreferrer",children:"اضغط هنا لتحميل نموذج الجهات الحكومية"})}),i&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["الملف المحدد: ",i]}),e.jsx(w,{name:"reportExcel",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{className:"flex justify-center md:justify-end gap-2 pb-3 sm:pb-4",children:[e.jsx("button",{onClick:()=>m(-1),type:"button",className:"text-black text-sm flex items-center gap-1 rounded-lg py-3 px-6 hover:bg-green-50 bg-[#EAF7E8] transition-colors",title:"الغاء",disabled:a,children:e.jsx("span",{className:"sm:inline pe-2",children:"الغاء"})}),e.jsxs("button",{type:"submit",className:"text-white text-sm flex items-center gap-1 rounded-lg py-3 px-3 bg-[#3D9635] hover:bg-green-600 transition-colors",title:"اضافة التقرير",disabled:a,children:[a?e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):e.jsx("img",{src:E,alt:"plus2",className:"w-4 h-4"}),e.jsx("span",{className:"sm:inline pe-2",children:a?"جاري التحميل...":"اضافة الادلة"})]})]})]})})]})};export{M as default};
