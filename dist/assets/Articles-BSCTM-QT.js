import{a as x,u as g,r as m,j as e,C as u,e as j,g as f,f as b,D as C}from"./index-rvaT0sPR.js";import{p as w}from"./plus2-Cc0MLBo8.js";import{e as v}from"./View-Dmq9eV2k.js";import{D as N,k as h}from"./index-DdKoro_J.js";const y="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4167%206.25L4.94016%2011.7265C4.76305%2011.9036%204.6745%2011.9922%204.61627%2012.101C4.55805%2012.2098%204.53349%2012.3326%204.48437%2012.5782L3.87257%2015.6371C3.81714%2015.9143%203.78942%2016.0529%203.86826%2016.1317C3.9471%2016.2106%204.08569%2016.1829%204.36286%2016.1274L7.42184%2015.5156C7.66745%2015.4665%207.79025%2015.4419%207.89904%2015.3837C8.00783%2015.3255%208.09638%2015.237%208.27348%2015.0599L8.27349%2015.0598L13.75%209.58333L10.4167%206.25Z'%20fill='%233D9635'/%3e%3cpath%20d='M4.96098%2016.15L4.96099%2016.15L4.98277%2016.1445L4.98278%2016.1445L7.17276%2015.597C7.18625%2015.5937%207.19971%2015.5903%207.21314%2015.587C7.39545%2015.5417%207.5707%2015.4981%207.73024%2015.4078C7.88978%2015.3175%208.01729%2015.1896%208.14994%2015.0566C8.15971%2015.0468%208.1695%2015.037%208.17933%2015.0271L14.1626%209.04383L14.1744%209.03206L14.1744%209.03206L14.1968%209.00969C14.4554%208.75112%2014.6839%208.52262%2014.8434%208.31365C15.0162%208.08714%2015.1542%207.82587%2015.1542%207.5C15.1542%207.17413%2015.0162%206.91286%2014.8433%206.68635C14.6839%206.47737%2014.4554%206.24886%2014.1967%205.99029L14.1744%205.96794L14.0314%205.82496L14.009%205.80259C13.7505%205.54398%2013.522%205.31544%2013.313%205.156C13.0865%204.98318%2012.8252%204.84518%2012.4993%204.84518C12.1735%204.84518%2011.9122%204.98318%2011.6857%205.156C11.4767%205.31544%2011.2482%205.54399%2010.9896%205.8026L10.9673%205.82496L4.97222%2011.82C4.96239%2011.8299%204.95257%2011.8396%204.94278%2011.8494C4.80976%2011.9821%204.68188%2012.1096%204.59155%2012.2691C4.50122%2012.4287%204.45767%2012.6039%204.41237%2012.7862C4.40903%2012.7996%204.40569%2012.8131%204.40231%2012.8266L3.84937%2015.0384C3.84736%2015.0464%203.84533%2015.0545%203.84328%2015.0627C3.81111%2015.1911%203.77471%2015.3363%203.76263%2015.4598C3.74917%2015.5974%203.7504%2015.8468%203.95148%2016.0479C4.15254%2016.2489%204.40191%2016.2502%204.53951%2016.2367C4.66306%2016.2246%204.80827%2016.1882%204.93666%2016.1561C4.94484%2016.154%204.95295%2016.152%204.96098%2016.15Z'%20stroke='%233D9635'/%3e%3cpath%20d='M10.416%206.25L13.7493%209.58333'%20stroke='%233D9635'/%3e%3c/svg%3e",k="data:image/svg+xml,%3csvg%20width='21'%20height='20'%20viewBox='0%200%2021%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.167%204.98333C15.392%204.70833%2012.6003%204.56667%209.81699%204.56667C8.16699%204.56667%206.51699%204.65%204.86699%204.81667L3.16699%204.98333'%20stroke='%23C41919'%20stroke-width='1.42857'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.75%204.14167L7.93333%203.05001C8.06667%202.25834%208.16667%201.66667%209.575%201.66667H11.7583C13.1667%201.66667%2013.275%202.29167%2013.4%203.05834L13.5833%204.14167'%20stroke='%23C41919'%20stroke-width='1.42857'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.3747%207.61667L15.833%2016.0083C15.7413%2017.3167%2015.6663%2018.3333%2013.3413%2018.3333H7.99134C5.66634%2018.3333%205.59134%2017.3167%205.49967%2016.0083L4.95801%207.61667'%20stroke='%23C41919'%20stroke-width='1.42857'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.27441%2013.75H12.0494'%20stroke='%23C41919'%20stroke-width='1.42857'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.58398%2010.4167H12.7507'%20stroke='%23C41919'%20stroke-width='1.42857'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function L({article:t}){const i=x(),a=g(),[d,l]=m.useState(!1),n=async()=>{const c=await i(u(t._id));c.payload.success?h.success("تم حذف المقال بنجاح"):h.error(c.payload.message),l(!1)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsx(N,{position:"top-center",reverseOrder:!1}),e.jsxs("div",{className:"grid md:grid-cols-5 grid-cols-1",children:[e.jsx("div",{className:"p-3 flex items-center justify-center",children:e.jsx("img",{src:typeof t.image=="string"?t.image:URL.createObjectURL(t.image),alt:"Article",className:"h-20 object-cover rounded-lg"})}),e.jsxs("div",{className:"bg-opacity-10 p-3 rounded-lg md:col-span-4 col-span-1",children:[e.jsx("h4",{className:"font-bold",children:t.title}),e.jsx("p",{className:"text-[#3B3B3B] mt-3",children:t.description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 grid-cols-1",children:[e.jsx("button",{onClick:()=>a(`/Dashboard/ShowArticle/${t._id}`),className:"flex items-center justify-center px-4 py-2",children:e.jsxs("div",{className:"bg-[#EAF7E8] w-full h-10 rounded-lg flex items-center justify-center gap-2",children:[e.jsx("img",{src:v,alt:"viewIcon"}),e.jsx("p",{className:"text-sm",children:"اطلاع"})]})}),e.jsx("button",{onClick:()=>a(`/Dashboard/edit-article/${t._id}`),className:"flex items-center justify-center px-4 py-2",children:e.jsxs("div",{className:"bg-[#F7F8F9] w-full h-10 rounded-lg flex items-center justify-center gap-2",children:[e.jsx("img",{src:y,alt:"editIcon"}),e.jsx("p",{className:"text-sm",children:"تعديل"})]})}),e.jsx("button",{onClick:()=>l(!0),className:"flex items-center justify-center px-4 py-2",children:e.jsxs("div",{className:"bg-[#FFF1F1] w-full h-10 rounded-lg flex items-center justify-center gap-2",children:[e.jsx("img",{src:k,alt:"deleteIcon"}),e.jsx("p",{className:"text-sm",children:"حذف"})]})})]}),d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"تأكيد الحذف"}),e.jsx("p",{className:"mb-6",children:"هل أنت متأكد أنك تريد حذف هذا المقال؟"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 space-x-4",children:[e.jsx("button",{className:"bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>l(!1),children:"إلغاء"}),e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:n,children:"حذف"})]})]})})]})}function M(){const t=g(),i=x(),[a,d]=m.useState(1),{articles:l,numberOfPages:n}=j(s=>s.articles),c=async({page:s=1,title:r=""})=>{await i(C({page:s,title:r}))},p=s=>{c({title:s.target.value})},o=s=>{d(s),c({page:s})};return m.useEffect(()=>{window.scrollTo(0,0),c({page:1}),i(f("رفع المقالات")),i(b(3))},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"grid md:grid-cols-3 grid-cols-1 mb-4 gap-2",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 p-3 sm:p-4 rounded-lg",children:e.jsx("div",{className:"flex items-center gap-3 flex-1",children:e.jsx("span",{className:"text-lg font-medium text-black whitespace-nowrap",children:"المقالات"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 col-span-2 gap-3 rounded-lg",children:[e.jsx("div",{className:"flex col-span- items-center md:justify-start w-auto justify-center",children:e.jsx("form",{className:"flex-1",children:e.jsxs("div",{className:"relative shadow-lg rounded-lg",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3",children:e.jsx("svg",{className:"w-5 h-5 text-main_color","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{type:"search",id:"default-search",className:"ps-10 w-full text-sm text-main_color placeholder:text-main_color border border-gray-300 rounded-lg bg-[#F7F8F9] py-2.5",placeholder:"البحث عن مقالة",onChange:p})]})})}),e.jsx("div",{className:"flex col-span- items-center md:justify-end pb-3 sm:pb-4 justify-center gap-2",children:e.jsxs("button",{onClick:()=>t("/Dashboard/add-article"),className:"text-white md:w-auto md:px-9 w-full text-sm flex justify-center items-center gap-1 rounded-lg py-2 hover:bg-green-600 bg-[#3D9635] transition-colors",title:"اضافة مقالة",children:[e.jsx("img",{src:w,alt:"plus2",className:"w-4 h-4"}),e.jsx("span",{className:" sm:inline pe-2",children:"اضافة مقالة"})]})})]})]}),e.jsx("div",{className:"grid gap-5 md:grid-cols-2 grid-cols-1",children:l==null?void 0:l.map(s=>e.jsx(L,{article:s},s._id))}),e.jsxs("div",{className:"flex justify-center items-center mt-8 mb-4",dir:"rtl",children:[e.jsx("button",{onClick:()=>o(Math.max(1,a-1)),disabled:a===1,className:"px-3 py-1 bg-[#BBC3CF]  text-black hover:bg-gray-100 rounded-s-lg disabled:opacity-50","aria-label":"الصفحة السابقة",children:"< "}),[...Array(n)].map((s,r)=>e.jsx("button",{onClick:()=>o(r+1),className:`px-3 py-1 flex items-center justify-center ${a===r+1?"bg-[#BBC3CF]  text-black border":"text-black bg-[#F7F8F9] border border-1/2 border-slate-300"}`,"aria-label":`الصفحة ${r+1}`,children:e.jsx("span",{children:r+1})},r+1)),e.jsx("button",{onClick:()=>o(Math.min(n,a+1)),disabled:a===n,className:"px-3 py-1 bg-[#BBC3CF]  text-black hover:bg-gray-100 rounded-l-lg disabled:opacity-50","aria-label":"الصفحة التالية",children:"> "})]})]})}export{M as default};
