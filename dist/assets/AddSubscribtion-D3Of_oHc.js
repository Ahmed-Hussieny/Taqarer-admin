import{a as x,u as f,j as e,ab as p}from"./index-C06iv4jk.js";import{F as b,c as g,e as h,g as s,E as t,h as j,f as i,i as N,a as n}from"./index.esm-Sbsx__qc.js";import{d as y}from"./trash-DInxD9Qt.js";import{D as v,k as m}from"./index-DBr3TQ1Z.js";const w={name:"",price:0,duration:0,description:"",features:[""],maxNumberOfReports:0},k=g({name:n().required("حقل الاسم مطلوب"),price:i().required("حقل السعر مطلوب").positive("يجب أن يكون السعر رقمًا موجبًا"),duration:i().required("حقل المدة مطلوب").positive("يجب أن تكون المدة رقمًا موجبًا"),description:n().required("حقل الوصف مطلوب"),features:N().of(n().required("حقل الميزة مطلوب")).min(1,"يجب إضافة ميزة واحدة على الأقل"),maxNumberOfReports:i().required("حقل الحد الأقصى للتقارير مطلوب").positive("يجب أن يكون الحد الأقصى للتقارير رقمًا موجبًا")}),A=()=>{const d=x(),c=f(),l=async o=>{const r=await d(p(o));r.payload.success?(m.success("تمت العملية بنجاح"),c(-1)):m.error(r.payload.message)};return e.jsxs("div",{className:"p-4 rtl",dir:"rtl",children:[e.jsx(v,{position:"top-center",reverseOrder:!1}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"إضافة خطة جديدة"}),e.jsx(b,{initialValues:w,validationSchema:k,onSubmit:l,children:({values:o})=>e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"الاسم"}),e.jsx(s,{type:"text",id:"name",name:"name",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx(t,{name:"name",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"السعر"}),e.jsx(s,{type:"number",id:"price",name:"price",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx(t,{name:"price",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"المدة (بالأيام)"}),e.jsx(s,{type:"number",id:"duration",name:"duration",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx(t,{name:"duration",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"الوصف"}),e.jsx(s,{as:"textarea",id:"description",name:"description",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx(t,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"features",className:"block text-sm font-medium text-gray-700",children:"الميزات"}),e.jsx(j,{name:"features",children:({push:r,remove:u})=>e.jsxs("div",{children:[o.features.map((F,a)=>e.jsxs("div",{className:"flex gap-1 space-x-2 mt-2",children:[e.jsx(s,{type:"text",name:`features[${a}]`,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx("button",{type:"button",onClick:()=>u(a),className:"inline-flex items-center ms-2 px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-white hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:e.jsx("img",{src:y,alt:"delete",className:"w-4 h-4"})})]},a)),e.jsx("button",{type:"button",onClick:()=>r(""),className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-main_color hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"إضافة ميزة"})]})}),e.jsx(t,{name:"features",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maxNumberOfReports",className:"block text-sm font-medium text-gray-700",children:"الحد الأقصى للتقارير"}),e.jsx(s,{type:"number",id:"maxNumberOfReports",name:"maxNumberOfReports",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e.jsx(t,{name:"maxNumberOfReports",component:"div",className:"text-red-500 text-sm"})]}),e.jsx("button",{type:"submit",className:"inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-main_color hover:opacity-90 w-full focus:outline-none focus:ring-2 focus:ring-offset-2",children:"إرسال"})]})})]})};export{A as default};
