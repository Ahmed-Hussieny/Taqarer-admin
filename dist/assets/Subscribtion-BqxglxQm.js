import{e as b,r as c,a as j,u as g,g as w,f as p,j as e,a8 as o,a9 as N,aa as v}from"./index-CX1t2Ghj.js";import{D as y}from"./index-fIHkrhVy.js";import{p as C}from"./plus2-Cc0MLBo8.js";import{d as D}from"./trash-DInxD9Qt.js";const P="data:image/svg+xml,%3csvg%20width='20'%20height='21'%20viewBox='0%200%2020%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%200.45459C4.47715%200.45459%200%204.93174%200%2010.4546C0%2015.9774%204.47715%2020.4546%2010%2020.4546C15.5228%2020.4546%2020%2015.9774%2020%2010.4546C19.9936%204.93441%2015.5202%200.461019%2010%200.45459Z'%20fill='white'/%3e%3cpath%20d='M15.7722%207.28796L10.068%2015.0288C9.93197%2015.2093%209.72912%2015.3275%209.50503%2015.357C9.28094%2015.3865%209.05441%2015.3247%208.87634%2015.1855L4.80301%2011.9288C4.44356%2011.6411%204.38536%2011.1166%204.67301%2010.7571C4.96066%2010.3977%205.48523%2010.3395%205.84468%2010.6271L9.24134%2013.3446L14.4305%206.30213C14.6007%206.04679%2014.8974%205.90562%2015.2029%205.93466C15.5083%205.96371%2015.7731%206.15827%2015.8921%206.44111C16.0111%206.72394%2015.965%207.04928%2015.7722%207.28796Z'%20fill='%233D9635'/%3e%3c/svg%3e",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEDSURBVHgB7ZNPzsFAGMbfqc40384R+p2AjcRGwg0cwgYbTsANxMbeCbiBJkQaiagTqBOwEx3jNdM0QTXRUUu/Tf/keX55JzMD8OPbEJ1wdVDMiz/aU+/8xIdu1/OTcgakRAptYdENCiAoroRadFaW/z6WRsKZWpgZ8P6ive4g4phZdJKUf7v8uxDsqOAZZ15zut6xMirtBKPVZWO5Ty2NCx9Knnw4CKQ+b63+4z1TV6hAgKJU5zkxakldoiuMar4Suk3XTyXNKlS87P6F5TpZhIlSYpBCFmGYfPwIb4xFD1mEL5MGjNrxAAI6OkLF05FiAfflpGM5P14FbkXOnOrIfoTcAGUfdTMPORc0AAAAAElFTkSuQmCC";function F(){const{pakages:a}=b(s=>s.pakages),[n,d]=c.useState(null),[i,r]=c.useState({}),[h,x]=c.useState(!0),l=j(),m=g();c.useEffect(()=>{window.scrollTo(0,0),(async()=>{x(!0);try{await l(o())}finally{x(!1)}})()},[l]),c.useEffect(()=>{l(w("الاشتركات")),l(p(7))},[]);const f=async s=>{r(t=>({...t,[s]:"delete"}));try{await l(N({id:s})),await l(o())}finally{r(t=>({...t,[s]:""})),d(null)}},u=async s=>{r(t=>({...t,[s]:"toggle"}));try{await l(v({id:s})),await l(o())}finally{r(t=>({...t,[s]:""}))}};return e.jsxs(e.Fragment,{children:[e.jsx(y,{position:"top-center",reverseOrder:!1}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("p",{className:"font-bold text-lg",children:"الباقات"})}),e.jsxs("button",{onClick:()=>m("/Dashboard/add-subscription"),className:"text-white text-sm flex items-center gap-1 rounded-lg py-2 px-3 hover:bg-green-600 bg-[#3D9635] transition-colors",title:"اضافة باقة",children:[e.jsx("img",{src:C,alt:"plus2",className:"w-4 h-4"}),e.jsx("span",{className:"sm:inline pe-2",children:"اضافة باقة"})]})]}),e.jsx("div",{className:"container mx-auto my-9 text-center px-4",children:e.jsx("p",{className:"text-2xl font-bold",children:"باقة تقارير"})}),h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("p",{children:" جاري التحميل..."})}):e.jsxs("div",{className:"container flex justify-center mb-20 gap-4 mx-auto flex-wrap",children:[a==null?void 0:a.map(s=>e.jsxs("div",{className:"bg-[#EAF7E8] border rounded-2xl text-center w-64 p-4 relative",children:[e.jsxs("div",{className:"items-center flex justify-end mb-3 gap-2",children:[e.jsx("button",{onClick:()=>m(`/Dashboard/edit-subscription/${s._id}`),className:"p-1 hover:bg-blue-100 rounded-full",title:"تعديل",children:e.jsx("img",{src:S,alt:"edit",className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>d(s._id),className:"hover:bg-red-100 rounded-full w-5 h-5",title:"حذف",disabled:!!i[s._id],children:e.jsx("img",{src:D,alt:"delete",className:"w-full"})}),e.jsx("button",{onClick:()=>u(s._id),className:`p-1 ${s.active?"bg-main_color":"bg-red-800"} rounded-full w-5 h-5 flex items-center justify-center`,title:s.active?"تعطيل":"تفعيل",disabled:!!i[s._id],children:i[s._id]==="toggle"&&e.jsxs("svg",{className:"animate-spin h-5 w-5 text-[#ffffff]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),e.jsx("p",{className:"mb-2 font-bold",children:s==null?void 0:s.name}),e.jsxs("p",{className:"text-2xl font-bold text-main_color",children:[s==null?void 0:s.price," ريال"]}),e.jsxs("p",{className:"text-slate-600 mt-3",children:[s==null?void 0:s.duration," يوم"]}),e.jsx("p",{className:"text-slate-600 border-b-2 pb-6",children:s==null?void 0:s.description}),e.jsx("div",{className:"my-4 border-b-2 pb-6",children:s==null?void 0:s.features.map((t,A)=>e.jsxs("div",{className:"flex my-2 gap-2",children:[e.jsx("img",{src:P,alt:"icon"}),e.jsx("p",{children:t})]},A))}),e.jsx("div",{children:e.jsx("button",{className:"bg-gradient-to-r text-sm w-3/4 py-3 mb-3 from-[#3D9635] to-[#97DB91] text-white rounded-full px-4",children:"اشتري الآن"})})]},s._id)),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 text-center rounded-lg shadow",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"هل أنت متأكد؟"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{onClick:()=>f(n),disabled:i[n]==="delete",className:"bg-red-600 col-span-2 text-white px-4 py-2 rounded-md mr-2 flex justify-center items-center gap-2",children:i[n]==="delete"?e.jsx(e.Fragment,{children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-[#3D9635]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):"نعم, حذف هذه الباقة"}),e.jsx("button",{onClick:()=>d(null),className:"bg-gray-300 col-span-1 px-4 py-2 rounded-md",children:"إلغاء"})]})]})})]})]})}export{F as default};
